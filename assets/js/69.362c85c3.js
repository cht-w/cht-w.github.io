(window.webpackJsonp=window.webpackJsonp||[]).push([[69],{449:function(t,s,a){"use strict";a.r(s);var n=a(42),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("div",{attrs:{align:"center"}},[a("font",{attrs:{size:"70"}},[t._v("Ajax入门")])],1),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"ajax是什么"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ajax是什么"}},[t._v("#")]),t._v(" ajax是什么")]),t._v(" "),a("p",[a("strong",[t._v("Ajax是一种异步请求数据的web开发技术，在不需要刷新页面的前提下，通过异步请求像服务器请求数据，并呈现在页面上。\nAjax的目的是提高用户体验，减少网络数据的传输量。同时，由于AJAX请求获取的是数据而不是HTML文档，因此它也节省了网络带宽，让互联网用户的网络冲浪体验变得更加顺畅。")])]),t._v(" "),a("h2",{attrs:{id:"ajax原理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ajax原理"}},[t._v("#")]),t._v(" ajax原理")]),t._v(" "),a("p",[a("strong",[t._v("举例：")])]),t._v(" "),a("p",[t._v("老师需要找小陈了解一些事情，就委托班长去找小陈，自己接着忙工作，直到班长把小陈喊过来，最后和小陈交谈。")]),t._v(" "),a("p",[t._v("Ajax工作流程和上面类似。其中核心就是用过"),a("strong",[t._v("XMLHttpRequest")]),t._v("对象做为中间人，去做事情。使得浏览器可以发送http请求和接收http响应。浏览器可以专心做其他的事情，直到服务器返回数据后再渲染页面。")]),t._v(" "),a("h2",{attrs:{id:"ajax的使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ajax的使用"}},[t._v("#")]),t._v(" Ajax的使用")]),t._v(" "),a("h3",{attrs:{id:"_1-创建ajax核心对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-创建ajax核心对象"}},[t._v("#")]),t._v(" 1.创建Ajax核心对象")]),t._v(" "),a("p",[t._v("注意：兼容性")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" xhr "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("XMLHttpRequest"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 高版本")]),t._v("\n    xhr "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("XMLHttpRequest")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 低版本的IE")]),t._v("\n    xhr "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ActiveXObject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Microsoft.XMLHTTP"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"_2-发送服务器请求"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-发送服务器请求"}},[t._v("#")]),t._v(" 2.发送服务器请求")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.")]),t._v(" xhr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("open")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("method"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("async"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  \n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2.")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("send")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("string"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//post请求时才使用字符串参数，否则不用带参数。 ")]),t._v("\n")])])]),a("ul",[a("li",[a("p",[t._v("method: 请求的类型")])]),t._v(" "),a("li",[a("p",[t._v("url: 文件再服务器上的位置")])]),t._v(" "),a("li",[a("p",[t._v("async true(异步)  flase(同步)")])])]),t._v(" "),a("p",[a("strong",[t._v("注意：post请求一定要设置请求头的格式内容")])]),t._v(" "),a("p",[a("strong",[t._v("post请求参数放在send里面,即请求体")])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("xhr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("open")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"POST"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test.html"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  \nxhr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setRequestHeader")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Content-Type"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"application/x-www-form-urlencoded"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nxhr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("send")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name=cht&name=hw"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//post请求参数放在send里面，即请求体")]),t._v("\n")])])]),a("h3",{attrs:{id:"_3-服务器响应处理-同步和异步"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-服务器响应处理-同步和异步"}},[t._v("#")]),t._v(" 3.服务器响应处理（同步和异步）")]),t._v(" "),a("p",[t._v("responseText 获得字符串形式的响应数据。")]),t._v(" "),a("p",[t._v("responseXML 获得XML 形式的响应数据。")]),t._v(" "),a("p",[a("strong",[t._v("同步处理")])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("xhr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("open")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"GET"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'xxxx'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nxhr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("send")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ndocument"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"box"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHTMl "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" xhr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("responseText"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 同步处理获取到数据后直接渲染到页面中")]),t._v("\n")])])]),a("p",[a("strong",[t._v("异步处理")])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("xhr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onreadystatechange")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("xhr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("readyState "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" xhr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("status"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"box"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHTMl "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" xhr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("responseText"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[a("strong",[t._v("什么是onreadystatechange？")])]),t._v(" "),a("p",[t._v("请求状态改变事件")]),t._v(" "),a("p",[a("strong",[t._v("什么是readyState？")]),t._v("\nreadyState是XMLHttpRequest对象的一个属性，用来标识当前XMLHttpRequest对象处于什么状态。\nreadyState总共有5个状态值，分别为0~4，每个值代表了不同的含义：")]),t._v(" "),a("ul",[a("li",[t._v("0：未初始化 -- 尚未调用.open()方法；")]),t._v(" "),a("li",[t._v("1：启动 -- 已经调用.open()方法，但尚未调用.send()方法；")]),t._v(" "),a("li",[t._v("2：发送 -- 已经调用.send()方法，但尚未接收到响应；")]),t._v(" "),a("li",[t._v("3：接收 -- 已经接收到部分响应数据；")]),t._v(" "),a("li",[t._v("4：完成 -- 已经接收到全部响应数据，而且已经可以在客户端使用了；")])]),t._v(" "),a("p",[a("strong",[t._v("什么是status？")])]),t._v(" "),a("p",[t._v("status是HTTP状态码")]),t._v(" "),a("p",[t._v("基本上可以分为五种类型：")]),t._v(" "),a("ul",[a("li",[t._v("1xx：请求收到，继续处理(信息提示)")]),t._v(" "),a("li",[t._v("2xx：操作成功收到，分析、接受(成功)")]),t._v(" "),a("li",[t._v("3xx：重定向")]),t._v(" "),a("li",[t._v("4xx：请求包含一个错误语法或不能完成(客户端错误)")]),t._v(" "),a("li",[t._v("5xx：服务器执行一个完全有效请求失败(服务器错误)")])]),t._v(" "),a("p",[a("strong",[t._v("常见状态码")])]),t._v(" "),a("ul",[a("li",[t._v("200 表示从客户端发来的请求在服务器端被正常处理了。")]),t._v(" "),a("li",[t._v("204 表示请求处理成功，但没有资源返回。")]),t._v(" "),a("li",[t._v("301 表示永久性重定向。该状态码表示请求的资源已被分配了新的URI，以后应使用资源现在所指的URI。")]),t._v(" "),a("li",[t._v("302 表示临时性重定向。")]),t._v(" "),a("li",[t._v("304 表示客户端发送附带条件的请求时（指采用GET方法的请求报文中包含if-matched,if-modified-since,if-none-match,if-range,if-unmodified-since任一个首部）服务器端允许请求访问资源，但因发生请求未满足条件的情况后，直接返回304Modified（服务器端资源未改变，可直接使用客户端未过期的缓存）")]),t._v(" "),a("li",[t._v("400 表示请求报文中存在语法错误。当错误发生时，需修改请求的内容后再次发送请求。")]),t._v(" "),a("li",[t._v("401 表示未授权（Unauthorized)，当前请求需要用户验证")]),t._v(" "),a("li",[t._v("403 表示对请求资源的访问被服务器拒绝了")]),t._v(" "),a("li",[t._v("404 表示服务器上无法找到请求的资源。除此之外，也可以在服务器端拒绝请求且不想说明理由时使用。")]),t._v(" "),a("li",[t._v("500 表示服务器端在执行请求时发生了错误。也有可能是Web应用存在的bug或某些临时的故障。")]),t._v(" "),a("li",[t._v("503 表示服务器暂时处于超负载或正在进行停机维护，现在无法处理请求。")])]),t._v(" "),a("p",[a("strong",[t._v("GET和POST区别")])]),t._v(" "),a("ul",[a("li",[t._v("使用Get请求时,参数在URL中显示,而使用Post方式,则放在send里面")]),t._v(" "),a("li",[t._v("使用Get请求发送数据量小,Post请求发送数据量大")]),t._v(" "),a("li",[t._v("使用Get请求安全性低，会被缓存，而Post请求相对安全。")])]),t._v(" "),a("p",[a("a",{attrs:{href:"https://www.ibm.com/developerworks/cn/web/wa-aj-ajaxhistory/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Ajax简介"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://juejin.cn/post/6844903526875791374",target:"_blank",rel:"noopener noreferrer"}},[t._v("POST和GET区别"),a("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=e.exports}}]);